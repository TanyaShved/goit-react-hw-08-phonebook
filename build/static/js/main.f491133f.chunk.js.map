{"version":3,"sources":["services/contacts-api.js","redux/contacts/contacts-operations.js","components/Navigation/Navigation.jsx","icon/default-avatar.png","components/UserMenu/UserMenu.jsx","components/AuthNav/AuthNav.jsx","components/NewAppBar/NewAppBar.jsx","components/PrivateRoute/PrivateRoute.jsx","components/PublicRoute/PublicRoute.jsx","App.jsx","redux/contacts/contacts-reducer.js","redux/auth/auth-slice.js","redux/store.js","index.jsx","redux/auth/auth-selectors.js","services/auth-api.js","redux/auth/auth-operations.js","components/Spinner/Spinner.jsx","redux/contacts/contacts-actions.js"],"names":["BASE_URL","a","axios","get","data","contact","post","id","delete","contactApi","fetchContacts","addContact","deleteContact","createAsyncThunk","_","rejectWithValue","contacts","styles","link","display","textDecoration","padding","fontWeight","color","activeLink","Navigation","isLoggedIn","useSelector","authSelectors","getIsLoggedIn","to","exact","style","activeStyle","container","alignItems","avatar","marginRight","name","UserMenu","dispatch","useDispatch","getUsername","defaultAvatar","src","alt","width","Button","variant","onClick","authOperations","logOutUser","AuthNav","header","justifyContent","NewAppBar","AppBar","position","PrivateRoute","children","redirectTo","routeProps","PublicRoute","restricted","shouldRedirect","RegisterView","lazy","LoginView","ContactsView","App","isFetchingCurrentUser","getIsFetchingCurrent","useEffect","fetchCurrentUser","fallback","Spinner","path","itemsReducer","createReducer","fulfilled","payload","state","filter","filterReducer","changeFilter","loadingReducer","pending","rejected","errorReducer","combineReducers","items","loading","error","authSlice","createSlice","initialState","user","email","token","extraReducers","addUser","loginUser","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","auth","persistReducer","authReducer","contactsReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","document","getElementById","set","defaults","headers","common","Authorization","unset","credentials","authApi","authapi","massege","getState","persistedToken","textAlign","type","height","timeout","createAction"],"mappings":"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","file":"static/js/main.f491133f.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://goit-phonebook-api.herokuapp.com'; \n\nexport async function fetchContacts() {\n    const { data } = await axios.get(`${BASE_URL}/contacts`)\n    return data;\n}\n\nexport async function addContact(contact) {\n    const { data } = await axios.post(`${BASE_URL}/contacts`, contact);\n    return data;\n};\n\nexport async function deleteContact(id) {\n    const { data } = await axios.delete(`${BASE_URL}/contacts/${id}`);\n    return data;\n};\n\nconst contactApi = { fetchContacts, addContact, deleteContact };\n\nexport default contactApi;\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport contactApi from 'services/contacts-api';\n\nexport const fetchContacts = createAsyncThunk('contacts/fetchContacts',\n    async (_, { rejectWithValue }) => {\n        try {\n            const contacts = await contactApi.fetchContacts();\n            return contacts;\n        } catch (error) {\n            return rejectWithValue(error);\n        }\n    }\n);\n\nexport const addContact = createAsyncThunk('contacts/addContact',\n    async (contact, { rejectWithValue }) => {\n        try {\n        return await contactApi.addContact(contact);\n        } catch (error) {\n            return rejectWithValue(error);\n        }\n    }\n);\n\n// export const addContact = createAsyncThunk(\n//     'contacts/addContact',\n//     async contact => {\n//         return await contactApi.addContact(contact);\n// }\n// );\n\nexport const deleteContact = createAsyncThunk('contacts/deleteContact',\n    async (id, { rejectWithValue }) => {\n        try {\n            await contactApi.deleteContact(id);\n            return id;\n        } catch (error) {\n            return rejectWithValue(error);\n        }\n    }\n);\n\n// export const addContact = (name, number) => async dispatch => {\n//     const contact = {\n//         name,\n//         number\n//     }\n\n//     dispatch(contactsActions.addContactRequest());\n\n//     try {\n//         await contactApi.addContact(contact);\n//         dispatch(contactsActions.addContactSuccess(contact))\n//     }\n//     catch (error) {\n//         dispatch(contactsActions.addContactError(error))\n//     }\n// };\n\n// export const deleteContact = id => async dispatch => {\n//     dispatch(contactsActions.deleteContactRequest());\n\n//     try {\n//         await contactApi.deleteContact(id);\n//         dispatch(contactsActions.deleteContactSuccess(id))\n//     }\n//     catch (error) {\n//         dispatch(contactsActions.deleteContactError(error))\n//         } \n// };\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport {authSelectors} from 'redux/auth'\n\nconst styles = {\n  link: {\n    display: 'inline-block',\n    textDecoration: 'none',\n    padding: 12,\n    fontWeight: 700,\n    color: '#2A363B',\n  },\n  activeLink: {\n    color: '#E84A5F',\n  },\n};\n\nconst Navigation = () => {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n   return(\n    <nav>\n       {isLoggedIn &&\n         <NavLink\n      to=\"/contacts\"\n      exact\n      style={styles.link}\n      activeStyle={styles.activeLink}\n    >\n      Contacts\n    </NavLink>}\n  </nav>\n  ) \n}\n  \n  \n\nexport default Navigation;","export default __webpack_public_path__ + \"static/media/default-avatar.e44fc4e2.png\";","import { useDispatch, useSelector } from 'react-redux';\nimport { authSelectors, authOperations } from 'redux/auth';\nimport defaultAvatar from 'icon/default-avatar.png';\nimport { Button } from '@material-ui/core';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  avatar: {\n    marginRight: 4,\n  },\n  name: {\n    fontWeight: 700,\n    marginRight: 12,\n  },\n};\n\nexport default function UserMenu() {\n  const dispatch = useDispatch();\n  const name = useSelector(authSelectors.getUsername);\n  const avatar = defaultAvatar;\n\n  return (\n    <div style={styles.container}>\n      <img src={avatar} alt=\"\" width=\"32\" style={styles.avatar} />\n      <span style={styles.name}>Hello, {name}</span>\n      <Button variant=\"contained\" color=\"secondary\" onClick={() => dispatch(authOperations.logOutUser())}>Log off</Button>\n    </div>\n  );\n}","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst styles = {\n  link: {\n    display: 'inline-block',\n    textDecoration: 'none',\n    padding: 12,\n    fontWeight: 700,\n    color: '#2A363B',\n  },\n  activeLink: {\n    color: '#E84A5F',\n  },\n};\n\nexport default function AuthNav() {\n  return (\n    <div>\n      <NavLink\n        to=\"/register\"\n        exact\n        style={styles.link}\n        activeStyle={styles.activeLink}\n      >\n        Authorization \n      </NavLink>\n      <NavLink\n        to=\"/login\"\n        exact\n        style={styles.link}\n        activeStyle={styles.activeLink}\n      >\n        Login\n      </NavLink>\n    </div>\n  );\n}","import { useSelector } from 'react-redux';\nimport Navigation from 'components/Navigation/Navigation';\nimport UserMenu from 'components/UserMenu/UserMenu';\nimport AuthNav from 'components/AuthNav/AuthNav';\nimport { authSelectors } from 'redux/auth';\nimport AppBar from '@material-ui/core/AppBar';\n\nconst styles = {\n  header: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n};\n\nexport default function NewAppBar() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <AppBar position='relative' color=\"inherit\" >\n       <header style={styles.header}>\n      <Navigation />\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\n    </header>\n    </AppBar>\n  );\n}","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport { authSelectors } from 'redux/auth';\n\n\nconst PrivateRoute = ({ children, redirectTo = '/login', ...routeProps }) => {\n    const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n    return (\n        <Route {...routeProps}>{\n            isLoggedIn ? children : <Redirect to={redirectTo} />}\n        </Route>\n    );\n};\n\nexport default PrivateRoute;\n","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport { authSelectors } from 'redux/auth';\n\nconst PublicRoute = ({ children, restricted = false, redirectTo = '/login', ...routeProps }) => {\n    const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n    const shouldRedirect = isLoggedIn && restricted;\n    return (\n        <Route {...routeProps}>\n {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n    </Route>)\n\n}\nexport default PublicRoute;","import { Switch } from 'react-router-dom';\nimport { useEffect, lazy, Suspense  } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { authOperations, authSelectors } from 'redux/auth';\nimport NewAppBar from 'components/NewAppBar/NewAppBar';\nimport Spinner from 'components/Spinner/Spinner';\nimport PrivateRoute from 'components/PrivateRoute/PrivateRoute';\nimport PublicRoute from 'components/PublicRoute/PublicRoute';\n\nconst RegisterView = lazy(() => import('views/RegisterView'  /* webpackChunkName: \"register-view\" */));\nconst LoginView = lazy(() => import('views/LoginView'  /* webpackChunkName: \"login-view\" */));\nconst ContactsView = lazy(() => import('views/ContactsView'  /* webpackChunkName: \"contacts-view\" */));\n\nconst App = () => { \n  const dispatch = useDispatch();\n   const isFetchingCurrentUser = useSelector(authSelectors.getIsFetchingCurrent);\n\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser());\n  }, [dispatch]);\n\n  return (\n    !isFetchingCurrentUser && (\n      <>\n      \n      <NewAppBar />\n\n      <Switch>\n          <Suspense fallback={\n            <Spinner />\n          }>  \n          <PublicRoute path=\"/register\" restricted>\n            <RegisterView />\n          </PublicRoute>\n\n          <PublicRoute path=\"/login\" redirectTo='/contacts' restricted>\n            <LoginView />\n          </PublicRoute>\n          \n          <PrivateRoute path=\"/contacts\" redirectTo='/login'>\n            <ContactsView />\n            </PrivateRoute>\n\n            <PublicRoute redirectTo=\"/contacts\" restricted>\n                       <LoginView />\n                </PublicRoute>\n          </Suspense>\n        </Switch> \n      \n    </>)\n    );\n}\n\nexport default App;\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport {changeFilter} from './contacts-actions';\nimport { fetchContacts, addContact, deleteContact } from './contacts-operations';\n\nconst itemsReducer = createReducer([], {\n    [fetchContacts.fulfilled]: (_, { payload }) => payload,\n    [addContact.fulfilled]: (state, { payload }) => [...state, payload],\n    [deleteContact.fulfilled]: (state, { payload }) => state.filter(({ id }) => id !== payload),\n});\n\nconst filterReducer = createReducer('', {\n    [changeFilter]: (_, { payload }) => payload,\n});\n\nconst loadingReducer = createReducer(false, {\n    [fetchContacts.pending]: () => true,\n    [fetchContacts.fulfilled]: () => false,\n    [fetchContacts.rejected]: () => false,\n\n    [addContact.pending]: () => true,\n    [addContact.fulfilled]: () => false,\n    [addContact.rejected]: () => false,\n\n    [deleteContact.pending]: () => true,\n    [deleteContact.fulfilled]: () => false,\n    [deleteContact.rejected]: () => false,\n});\n\nconst errorReducer = createReducer(null, {\n    [fetchContacts.rejected]: (_, { payload }) => payload,\n    [fetchContacts.pending]: () => null,\n\n    \n    [addContact.rejected]: (_, { payload }) => payload,\n    [addContact.pending]: () => null,\n\n    [deleteContact.rejected]: (_, { payload }) => payload,\n    [deleteContact.pending]: () => null,\n})\n\nexport default combineReducers({\n    items: itemsReducer,\n    filter: filterReducer,\n    loading: loadingReducer,\n    error: errorReducer,\n})\n\n\n\n","import { createSlice } from '@reduxjs/toolkit';\nimport { addUser, loginUser, logOutUser, fetchCurrentUser } from './auth-operations';\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isFetchingCurrentUser: false,\n};\n\nconst authSlice = createSlice({\n    name: 'auth',\n    initialState,\n    extraReducers: {\n        [addUser.fulfilled](state, { payload }) {\n            state.user = payload.user;\n            state.token = payload.token;\n            state.isLoggedIn = true;\n        }, \n          [loginUser.fulfilled](state, { payload }) {\n            state.user = payload.user;\n            state.token = payload.token;\n            state.isLoggedIn = true;\n        }, \n        [logOutUser.fulfilled](state, _) {\n            state.user = { name: null, email: null };\n            state.token = null;\n            state.isLoggedIn = false;\n        },\n        [fetchCurrentUser.pending](state) {\n      state.isFetchingCurrentUser = true;\n    },\n     [fetchCurrentUser.fulfilled](state, { payload }) {\n      state.user = payload;\n         state.isLoggedIn = true;\n         state.isFetchingCurrentUser = false;\n        },\n     [fetchCurrentUser.rejected](state) {\n      state.isFetchingCurrentUser = false;\n    },\n    },\n})\n\n\nexport default authSlice.reducer;","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport contactsReducer from './contacts/contacts-reducer';\nimport authReducer from './auth/auth-slice';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\n export const store = configureStore({\n   reducer: {\n  auth: persistReducer(authPersistConfig, authReducer),\n  contacts: contactsReducer,\n},\n   middleware,\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react'\nimport App from './App';\nimport { store, persistor } from './redux/store';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n        </PersistGate>\n      </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","export const getIsLoggedIn = state => state.auth.isLoggedIn;\n\nexport const getUsername = state => state.auth.user.name;\n\nexport const getIsFetchingCurrent = state => state.auth.isFetchingCurrentUser;\n\n\n","import axios from 'axios';\n\nconst BASE_URL = 'https://goit-phonebook-api.herokuapp.com'; \n\nexport const token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nexport async function addUser(credentials) {\n    const { data } = await axios.post(`${BASE_URL}/users/signup`, credentials);\n    token.set(data.token);\n    return data;\n};\n\nexport async function loginUser(credentials) {\n    const { data } = await axios.post(`${BASE_URL}/users/login`, credentials);\n    token.set(data.token);\n    return data;\n};\n\nexport async function logOutUser() {\n    const { data } = await axios.post(`${BASE_URL}/users/logout`);\n    token.unset();\n    return data;\n};\n\nexport async function fetchCurrentUser() {\n    const { data } = await axios.get(`${BASE_URL}/users/current`)\n    return data;\n}\n\nconst authApi = { addUser, loginUser, logOutUser, fetchCurrentUser, token };\n\nexport default authApi;","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport authapi from 'services/auth-api';\n\nexport const addUser = createAsyncThunk('auth/addUser',\n    async (credentials, { rejectWithValue }) => {\n        try {\n        return await authapi.addUser(credentials);\n        } catch (error) {\n            return rejectWithValue(error.massege);\n        }\n    }\n);\n\nexport const loginUser = createAsyncThunk('auth/loginUser',\n    async (credentials, { rejectWithValue }) => {\n        try {\n        return await authapi.loginUser(credentials);\n        } catch (error) {\n            return rejectWithValue(error.massege);\n        }\n    }\n);\n\nexport const logOutUser = createAsyncThunk('auth/logoutUser',\n    async (_, { rejectWithValue }) => {\n        try {\n        return await authapi.logOutUser();\n        } catch (error) {\n            return rejectWithValue(error.massege);\n        }\n    }\n);\n\nexport const fetchCurrentUser = createAsyncThunk('auth/fetchCurrentUser',\n    async (_, {rejectWithValue, getState}) => {\n    const state = getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      return rejectWithValue();;\n    }\n\n    authapi.token.set(persistedToken);\n        try {\n        return await authapi.fetchCurrentUser();\n        } catch (error) {\n            return rejectWithValue(error.massege);\n        }\n    }\n);","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst Spinner = () => {\n  return (\n    <div style={{textAlign: \"center\"}}>\n    <Loader\n      type=\"Bars\"\n      color=\"#ff6b08\"\n      height={100}\n      width={100}\n      timeout={3000}\n      />\n      </div>\n  );\n};\n\nexport default Spinner;","import { createAction } from '@reduxjs/toolkit';\n\nexport const changeFilter = createAction('contacts/changeFilter');\n\n\n"],"sourceRoot":""}